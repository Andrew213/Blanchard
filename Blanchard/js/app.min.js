function email_test(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function isIE(){return(ua=navigator.userAgent).indexOf("MSIE ")>-1||ua.indexOf("Trident/")>-1}function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function ibg(){if(isIE()){let t=document.querySelectorAll("._ibg");for(var e=0;e<t.length;e++)t[e].querySelector("img")&&null!=t[e].querySelector("img").getAttribute("src")&&(t[e].style.backgroundImage="url("+t[e].querySelector("img").getAttribute("src")+")")}}isIE()&&document.querySelector("body").classList.add("ie"),isMobile.any()&&document.querySelector("body").classList.add("_touch"),testWebP((function(e){1==e?document.querySelector("body").classList.add("_webp"):document.querySelector("body").classList.add("_no-webp")})),ibg(),document.querySelector(".wrapper")&&document.querySelector(".wrapper").classList.add("_loaded");let unlock=!0;if(location.hash){const e=location.hash.replace("#","");document.querySelector(".popup_"+e)?popup_open(e):document.querySelector("div."+e)&&_goto(document.querySelector("."+e),500,"")}let iconMenu=document.querySelector(".icon-menu");if(null!=iconMenu){let e=500,t=document.querySelector(".menu__body");iconMenu.addEventListener("click",(function(n){unlock&&(body_lock(e),iconMenu.classList.toggle("_active"),t.classList.toggle("_active"))}))}function menu_close(){let e=document.querySelector(".icon-menu"),t=document.querySelector(".menu__body");e.classList.remove("_active"),t.classList.remove("_active")}function body_lock(e){document.querySelector("body").classList.contains("_lock")?body_lock_remove(e):body_lock_add(e)}function body_lock_remove(e){let t=document.querySelector("body");if(unlock){let n=document.querySelectorAll("._lp");setTimeout(()=>{for(let e=0;e<n.length;e++){n[e].style.paddingRight="0px"}t.style.paddingRight="0px",t.classList.remove("_lock")},e),unlock=!1,setTimeout((function(){unlock=!0}),e)}}function body_lock_add(e){let t=document.querySelector("body");if(unlock){let n=document.querySelectorAll("._lp");for(let e=0;e<n.length;e++){n[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",t.classList.add("_lock"),unlock=!1,setTimeout((function(){unlock=!0}),e)}}let title=document.querySelectorAll("._letter-animation");if(title)for(let e=0;e<title.length;e++){let t=title[e],n=t.innerHTML.replace("  "," ").split(" "),i="";for(let e=0;e<n.length;e++){let a=n[e],o=a.length;i+="<p>";for(let e=0;e<o;e++){let t=a.substr(e,1);" "==t&&(t="&nbsp;"),i=i+"<span>"+t+"</span>"}t.innerHTML=i,i+="&nbsp;</p>"}}let tabs=document.querySelectorAll("._tabs");for(let e=0;e<tabs.length;e++){let t=tabs[e],n=t.querySelectorAll("._tabs-item"),i=t.querySelectorAll("._tabs-block");for(let e=0;e<n.length;e++){let t=n[e];t.addEventListener("click",(function(a){for(let e=0;e<n.length;e++){n[e].classList.remove("_active"),i[e].classList.remove("_active")}t.classList.add("_active"),i[e].classList.add("_active"),a.preventDefault()}))}}let spollers=document.querySelectorAll("._spoller"),spollersGo=!0;if(spollers.length>0)for(let e=0;e<spollers.length;e++){const t=spollers[e];t.addEventListener("click",(function(e){if(spollersGo){if(spollersGo=!1,t.classList.contains("_spoller-992")&&window.innerWidth>992)return!1;if(t.classList.contains("_spoller-768")&&window.innerWidth>768)return!1;if(t.closest("._spollers").classList.contains("_one")){let e=t.closest("._spollers").querySelectorAll("._spoller");for(let n=0;n<e.length;n++){let i=e[n];i!=t&&(i.classList.remove("_active"),_slideUp(i.nextElementSibling))}}t.classList.toggle("_active"),_slideToggle(t.nextElementSibling),setTimeout((function(){spollersGo=!0}),500)}}))}let gallery=document.querySelectorAll("._gallery");function gallery_init(){for(let e=0;e<gallery.length;e++){const t=gallery[e];lightGallery(t,{counter:!1,selector:"a",download:!1})}}function search_in_list(e){let t=e.parentNode.querySelector("ul").querySelectorAll("li"),n=e.value.toUpperCase();for(i=0;i<t.length;i++){let e=t[i],a=e;txtValue=a.textContent||a.innerText,txtValue.toUpperCase().indexOf(n)>-1?e.style.display="":e.style.display="none"}}function digi(e){return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}function digi_animate(e){if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t],i=parseInt(n.innerHTML.replace(" ",""));n.classList.contains("_done")||digi_animate_value(n,0,i,1500)}}function digi_animate_value(e,t,n,i){var a=e,o=n-t,r=Math.abs(Math.floor(i/o));r=Math.max(r,50);var l,c=(new Date).getTime()+i;function s(){var e=(new Date).getTime(),t=Math.max((c-e)/i,0),r=Math.round(n-t*o);a.innerHTML=digi(r),r==n&&clearInterval(l)}l=setInterval(s,r),s(),e.classList.add("_done")}gallery&&gallery_init();let _slideUp=(e,t=500)=>{e.classList.remove("aboba"),e.classList.remove("_slide")},_slideDown=(e,t=500)=>{e.classList.add("aboba")},_slideToggle=(e,t=500)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t):_slideUp(e,t)};function _wrap(e,t){e.parentNode.insertBefore(t,e),t.appendChild(e)}function _removeClasses(e,t){for(var n=0;n<e.length;n++)e[n].classList.remove(t)}function _is_hidden(e){return null===e.offsetParent}function animate({timing:e,draw:t,duration:n}){let i=performance.now();requestAnimationFrame((function a(o){let r=(o-i)/n;r>1&&(r=1);let l=e(r);t(l),r<1&&requestAnimationFrame(a)}))}function makeEaseOut(e){return function(t){return 1-e(1-t)}}function makeEaseInOut(e){return function(t){return t<.5?e(2*t)/2:(2-e(2*(1-t)))/2}}function quad(e){return Math.pow(e,2)}function circ(e){return 1-Math.sin(Math.acos(e))}Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);const slider_about=new Swiper(".gallery__slider",{navigation:{nextEl:".gallery__arrow--next",prevEl:".gallery__arrow--prev"},pagination:{el:".gallery__slider-fraction",type:"fraction"},updateOnWindowResize:!0,a11y:{enabled:!0,prevSlideMessage:"Предыдущий слайд",nextSlideMessage:"Следующий слайд",firstSlideMessage:"Это первый слайд",lastSlideMessage:"Это последний слайд",paginationBulletMessage:"перейти к слайду {{index}}",notificationClass:"swiper-notification"},breakpoints:{500:{slidesPerColumnFill:"row",slidesPerView:1,slidesPerColumn:0,updateOnWindowResize:!0},720:{slidesPerColumnFill:"row",slidesPerGroup:2,slidesPerView:2,slidesPerColumn:2,updateOnWindowResize:!0,spaceBetween:34},1024:{slidesPerColumnFill:"row",slidesPerView:2,slidesPerColumn:2,updateOnWindowResize:!0,spaceBetween:34},1330:{spaceBetween:50,slidesPerColumnFill:"row",updateOnWindowResize:!0,slidesPerView:3,slidesPerColumn:2}}});window.addEventListener("resize",e=>{window.innerWidth<=1330&&(slider_about.update(),slider_about.updateProgress(),slider_about.updateSize(),slider_about.updateSlides(),slider_about.updateSlidesClasses())});let eventsSlider=null;function eventsSliderInit(){eventsSlider||(eventsSlider=new Swiper(".events__container",{spaceBetween:30,slidesPerGroup:1,updateOnWindowResize:!0,slidesPerView:1,simulateTouch:!0,touchRatio:1,touchAngle:45,paginationClickable:!0,grabCursor:!0,pagination:{el:".swiper-pagination",clickable:!0}}))}!function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}();const templateSelect=(e=[],t="Выберите из списка")=>{let n=[];return e.forEach(e=>{let i="";e===t&&(i=" select__item_selected"),n.push(`<li class="select__item${i}" data-select="item">${e}</li>`)}),`\n  <div class="select__backdrop" data-select="backdrop"></div>\n  <button type="button" class="select__trigger" data-select="trigger">\n    ${t}\n  </button>\n  <div class="select__dropdown">\n    <ul class="select__items">\n      ${n.join("")}\n    </ul>\n  </div>`};class CustomSelect{constructor(e,t){this._$main=document.querySelector(e),this._config=t||{},this._config.data&&this._render(),this._$trigger=this._$main.querySelector('[data-select="trigger"]'),this._addEventListener()}_isShow(){return this._$main.classList.contains("select_show")}_changeItem(e){if(!e.classList.contains("select__item_selected")){const t=this._$main.querySelector(".select__item_selected");t&&t.classList.remove("select__item_selected"),e.classList.add("select__item_selected"),this._$trigger.textContent=e.textContent,this._$main.dispatchEvent(this._changeValue),this._config.onSelected&&this._config.onSelected(e)}}_eventHandler(e){let t=e.target,n=t.dataset.select;n||(t=t.closest("[data-select]"),n=t.dataset.select),"trigger"===n?this.toggle():"item"===n?(this._changeItem(t),this.hide()):"backdrop"===n&&this.hide()}_addEventListener(){this._eventHandler=this._eventHandler.bind(this),this._$main.addEventListener("click",this._eventHandler),this._changeValue=new CustomEvent("select.change")}_render(){this._$main.classList.contains("select")||this._$main.classList.add("select"),this._$main.innerHTML=templateSelect(this._config.data,this._config.defaultValue)}show(){this._$main.classList.add("select_show")}hide(){this._$main.classList.remove("select_show")}toggle(){this._isShow()?this.hide():this.show()}destroy(){this._$main.removeEventListener("click",this._eventHandler),this._$main.innerHTML=""}selectedItem(e){if("object"==typeof e){if(e.value)this._$main.querySelectorAll('[data-select="item"]').forEach(t=>{t.textContent.trim()!==e.value.toString()||this._changeItem(t)});else if(e.index>=0){const t=this._$main.querySelectorAll('[data-select="item"]')[e.index];this._changeItem(t)}return this.selectedItem()}let t=-1,n="";return this._$main.querySelectorAll('[data-select="item"]').forEach((e,i)=>{e.classList.contains("select__item_selected")&&(t=i,n=e.textContent)}),{index:t,value:n}}}window.onload=function(){function e(e){return document.querySelector(e)}function t(e,t){e.classList.add(t)}function n(e,t){e.classList.remove(t)}const i=e(".header__logo"),a=e(".header__burger"),o=e(".header__top"),r=e(".header"),l=e(".header__search320");[...document.querySelectorAll(".header__bottom-link")].forEach(e=>{e.addEventListener("focus",t=>{const n=e.nextSibling.nextSibling;n.classList.contains("header__sub-menu--active")||[...n.querySelectorAll(".header__sub-link")].forEach(e=>{e.setAttribute("tabindex","-1")})})}),document.querySelector(".header__search-wrapper").addEventListener("mouseover",e=>{const i=document.querySelector(".header__search-wrapper");i&&(t(i,"header__search-wrapper--active"),i.addEventListener("mouseout",(function(){n(i,"header__search-wrapper--active")})))});e(".gallery__select");document.querySelectorAll("._popup-link"),document.querySelectorAll(".popup");function c(e,t=!0){unlock&&(e.classList.remove("_active"),!document.querySelector(".menu__body._active")&&t&&body_lock_remove(500))}const s=document.querySelector(".gallery__select"),d=(new Choices(s,{searchEnabled:!1,itemSelectText:""}),document.querySelectorAll(".catalog__lang-btn"));d.forEach(e=>{e.addEventListener("click",t=>{d.forEach(e=>e.classList.remove("goo")),e.classList.toggle("goo")})});[...document.querySelectorAll(".catalog__accordion-btn")].forEach(e=>{e.addEventListener("focus",t=>{const n=e.nextElementSibling,i=[...n.querySelectorAll(".catalog__accordion-nameBtn")];n.classList.contains("catalog__accordion-body--active")||i.forEach(e=>e.tabIndex=-1)})});const _=[...document.querySelectorAll(".catalog__accordion-nameBtn")];for(let e=0;e<_.length;e++)e%2==0&&_[e].setAttribute("data-tabName","Художник 1"),e%2==1&&_[e].setAttribute("data-tabName","Художник 2");const u=e(".events__inner"),h=[...document.querySelectorAll(".events__link")];h.forEach(e=>e.setAttribute("tabindex","-1"));for(let e=0;e<3;e++)h[e].setAttribute("tabindex","0");function m(){eventsSlider&&(eventsSlider.destroy(),eventsSlider=null)}window.addEventListener("resize",(function(e){this.innerWidth<=600?eventsSliderInit():m()})),window.innerWidth<=600?eventsSliderInit():m(),document.addEventListener("click",(function(s){!function(i){let a=i.target.closest(".header__bottom-item");if(a){const e=a.querySelector(".header__sub-menu");e.classList.toggle("header__sub-menu--active"),[...e.querySelectorAll(".header__sub-link")].forEach(e=>{e.setAttribute("tabindex","0")});const i=document.querySelectorAll(".header__sub-menu--active");if(i.length>1&&(Array.from(i).forEach(e=>{e.classList.remove("header__sub-menu--active")}),e.classList.toggle("header__sub-menu--active")),a.classList.contains("header__bottom-item--active"))n(a,"header__bottom-item--active");else{const e=document.querySelectorAll(".header__bottom-item");Array.from(e).forEach(e=>{e.classList.remove("header__bottom-item--active")}),t(a,"header__bottom-item--active")}}else if(i.target!==e(".header__bottom-link")){const e=document.querySelectorAll(".header__sub-menu--active"),t=document.querySelectorAll(".header__bottom-item--active");Array.from(e).forEach(e=>{e.classList.remove("header__sub-menu--active")}),Array.from(t).forEach(e=>{e.classList.remove("header__bottom-item--active")})}}(s),function(c){const s=e(".header__search-wrapper-1024px"),d=c.target.closest(".header__search-1024px"),_=c.target.closest(".header__searchBtn-1024px");if(_){if(window.innerWidth>844)_.classList.contains("header__searchBtn--hide")?(n(_,"header__searchBtn--hide"),n(s,"header__search--active")):(t(s,"header__search--active"),t(_,"header__searchBtn--hide"));else if(window.innerWidth<=844&&window.innerWidth>400)i.classList.add("hide"),_.classList.contains("header__searchBtn--hide")?(n(_,"header__searchBtn--hide"),n(s,"header__search--active"),n(o,"header__top--active"),n(a,"hide"),n(i,"hide")):(t(s,"header__search--active"),t(_,"header__searchBtn--hide"),t(o,"header__top--active"),t(a,"hide"));else if(window.innerWidth<=400){const n=e(".header__search320");t(r,"header--hide"),t(n,"header__search320--show"),e(".header__search320-input").tabIndex="0",e(".header__search320-btn").tabIndex="0"}}else if(!d){let t=e(".header__searchBtn--hide");n(s,"header__search--active"),t&&n(t,"header__searchBtn--hide"),n(i,"hide"),n(a,"hide"),n(o,"header__top--active"),n(r,"header--hide"),n(l,"header__search320--show"),e(".header__search320-input").tabIndex="-1",e(".header__search320-btn").tabIndex="-1"}}(s),function(t){const i=t.target.closest(".header__burger"),a=e(".header__nav");i&&(i.classList.contains("active")?(n(i,"active"),n(a,"header__nav--active")):(i.classList.add("active"),a.classList.add("header__nav--active"))),t.target!==document.querySelector(".header__burger")&&(e(".header__burger").classList.remove("active"),n(a,"header__nav--active"))}(s),function(t){const n=t.target.closest(".header__burger"),a=e(".header__nav");n?a.classList.contains("header__nav--active")?(i.setAttribute("tabindex","-1"),e(".header__searchBtn-1024px").setAttribute("tabindex","-1"),e(".hero__btn").setAttribute("tabindex","-1"),[...document.querySelectorAll(".header__menu-link")].forEach(e=>{e.tabIndex="0"}),e(".header__login-1024px").setAttribute("tabindex","0")):(i.removeAttribute("tabindex","-1"),e(".header__searchBtn-1024px").removeAttribute("tabindex","-1"),e(".hero__btn").removeAttribute("tabindex","-1"),[...document.querySelectorAll(".header__menu-link")].forEach(e=>{e.tabIndex="-1"}),e(".header__login-1024px").setAttribute("tabindex","-1")):window.innerWidth<=1024&&(i.removeAttribute("tabindex","-1"),e(".header__searchBtn-1024px").removeAttribute("tabindex","-1"),e(".hero__btn").removeAttribute("tabindex","-1"),[...document.querySelectorAll(".header__menu-link")].forEach(e=>{e.tabIndex="-1"}),e(".header__login-1024px").setAttribute("tabindex","-1"))}(s),function(t){t.target.closest(".gallery__select-item"),t.target.closest(".gallery__select-trigger")&&[...document.querySelectorAll(".gallery__select-item")].forEach(e=>{e.classList.contains("select__item_selected")?e.style.display="none":e.style.display="block"}),t.target!==e(".gallery__select-trigger")&&e(".gallery__select").classList.remove("select_show")}(s),function(e){const t=e.target.closest("._popup-link"),n=e.target.closest(".popup__close"),i=document.querySelectorAll(".popup");t?i.forEach(e=>{var n;e.getAttribute("data-name")===t.getAttribute("data-popupName")&&(n=e,unlock&&(document.querySelector(".menu__body._active")||body_lock_add(500),n.classList.add("_active"),focusManager.capture(n)))}):n?c(n.closest(".popup")):e.target.closest(".popup__body")||i.forEach(e=>{e.classList.contains("_active")&&c(e)})}(s),function(e){const i=e.target.closest(".catalog__accordion-btn"),a=[...document.querySelectorAll(".catalog__accordion-body")],o=[...document.querySelectorAll(".catalog__accordion-list")];if(i){const e=i.nextElementSibling,r=e.querySelectorAll(".catalog__accordion-list"),l=e.previousElementSibling,c=[...document.querySelectorAll(".catalog__accordion-btn")];e.classList.contains("catalog__accordion-body--active")&&window.innerWidth>440?(n(e,"catalog__accordion-body--active"),n(l,"_active"),[...i.nextElementSibling.querySelectorAll(".catalog__accordion-nameBtn")].forEach(e=>{e.tabIndex=-1}),r.forEach(e=>{n(e,"animate__flipInX"),t(e,"animate__flipOutX")})):window.innerWidth>440?(a.forEach(e=>n(e,"catalog__accordion-body--active")),c.forEach(e=>n(e,"_active")),o.forEach(e=>t(e,"animate__flipOutX")),t(e,"catalog__accordion-body--active"),t(l,"_active"),[...i.nextElementSibling.querySelectorAll(".catalog__accordion-nameBtn")].forEach(e=>{e.tabIndex=0}),r.forEach(e=>{n(e,"animate__flipOutX"),setTimeout(()=>{t(e,"animate__flipInX")},50)})):e.classList.contains("catalog__accordion-body--active")&&window.innerWidth<=440?(n(e,"catalog__accordion-body--active"),n(l,"_active"),[...i.nextElementSibling.querySelectorAll(".catalog__accordion-nameBtn")].forEach(e=>{e.tabIndex=-1})):window.innerWidth<=440&&(a.forEach(e=>n(e,"catalog__accordion-body--active")),c.forEach(e=>n(e,"_active")),t(e,"catalog__accordion-body--active"),t(l,"_active"),[...i.nextElementSibling.querySelectorAll(".catalog__accordion-nameBtn")].forEach(e=>{e.tabIndex=0}))}}(s),function(e){const i=e.target.closest(".catalog__accordion-nameBtn");if(i){const e=[...document.querySelectorAll(".catalog__info-block")],a=[...document.querySelectorAll(".catalog__accordion-nameBtn")];e.forEach(e=>{e.getAttribute("data-blockName")===i.getAttribute("data-tabName")?(n(e,"catalog__info-block--hide"),e.querySelector(".catalog__info-name").textContent=i.textContent,setTimeout(()=>{t(e,"catalog__info-block--show")},300),a.forEach(e=>n(e,"catalog__accordion-nameBtn--active")),t(i,"catalog__accordion-nameBtn--active")):e.classList.contains("catalog__info-block--show")&&(t(e,"catalog__info-block--hide"),setTimeout(()=>{n(e,"catalog__info-block--show")},300))})}}(s),function(e){const n=e.target.closest(".events__btn");n&&window.innerWidth>600&&(console.log(u),t(u,"events__inner--active"),h.forEach(e=>e.setAttribute("tabindex","0")),h[0].focus(),n.style.display="none")}(s)}))};